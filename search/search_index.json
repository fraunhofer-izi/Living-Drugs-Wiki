{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Multi-Modal Molecular Analyses for Living Drugs","text":"<p>Cellular immunotherapy harnesses the power of living cells \u2014 such as genetically engineered T cells \u2014 to actively seek out, recognize, and eliminate diseased cells, making it a groundbreaking cancer treatment. One of the most advanced forms of this therapy is CAR T cell therapy, where T cells are modified to express a Chimeric Antigen Receptor (CAR) \u2014 a synthetic receptor that enhances their ability to identify and attack cancer cells. However, high costs, serious side effects, and the risk of relapse remain major challenges \u2014 highlighting the need for therapies that are precisely tailored to each patient\u2019s unique health profile.</p> <p>A unique aspect of adoptive cellular immunotherapies, such as CAR T cell therapies, is that they are \"living drugs\", meaning that they are themselves biological systems that continue to evolve and respond in the patient's body. Given the complexity of these therapies, tailored computational biology is essential to study such heterogeneous systems. Therefore, we apply advanced multi-modal single-cell technologies and develop computational pipelines, in order to study adoptive cellular immunotherapies. While all currently approved adoptive cellular immunotherapies are based on CAR T cells, each specific therapy has distinct characteristics. To support their study and development, we aim to provide a comprehensive resource detailing the genetic designs of CAR constructs and the vector systems used for the transfection of these CAR T cell products.</p>"},{"location":"#explore-the-sections","title":"Explore the Sections","text":"<ul> <li> <p> Technologies</p> <p>Explore the technologies we use to study living drugs \u2014 including single-cell multi-omics and integration site analysis. </p> <p> Explore Technologies</p> </li> <li> <p> Pipelines</p> <p>Access our computational best practices and analytical pipelines designed to study adoptive cellular immunotherapies. </p> <p> Explore Pipelines</p> </li> <li> <p> Resources</p> <p>Find detailed explanation of the differences between CAR T therapies and a resource on CAR constructs and the vector systems. </p> <p> Explore Resources</p> </li> </ul>"},{"location":"#certainty","title":"CERTAINTY","text":"<p>In order to address current challenges in CAR T cell therapies we are part of the EU project CERTAINTY, which aims at developing a virtual twin for the treatment of cancer patients with CAR T cell therapies. This will be achieved by building on biological models and real-world data, which will be designed to mimic and predict the behavior of real patients. The virtual twin aims to support doctors and patients by offering insights that may guide decisions during treatment, contributing to a more informed approach to cancer care. Learn more about the Virtual Twin Project within the CERTAINTY consortium at: https://www.certainty-virtualtwin.eu/</p>"},{"location":"#contacts-and-collaborations","title":"Contacts and Collaborations","text":"<p>For any inquiries, suggestions, or opportunities for collaboration, please feel free to reach out to our group  Who we are  or write us an email: christina.kuhn@izi.fraunhofer.de</p>"},{"location":"#acknowledgment","title":"Acknowledgment","text":"<p>This work was supported by the CERTAINTY project funded by the European Union (Grant Agreement 101136379). Views and opinions expressed are those of the author(s) only and do not necessarily reflect those of the European Union or the Health and Digital Executive Agency. Neither the European Union nor the granting authority can be held responsible for them.  </p>"},{"location":"Home/Pipelines/","title":"Pipelines","text":"<p>Various computational biology approaches can be used to study and optimize adoptive cellular immunotherapies. For example, single-cell multi-omics technologies enable the study of heterogeneity within immune cell populations, but also within the tumor  sample. In combination with V(D)J sequencing of T or B cell receptors and profiling of cell surface protein expression, a more comprehensive understanding of the immune diversity and clonal expansion of the tumor  cell can be achieved.</p> <p>Since CAR T cells, as genetically engineered cells, are very different from normal cells, it is essential to ensure their safety and efficacy. One critical aspect is the monitoring of the integration sites of the inserted CAR gene, which can be achieved by integration site analysis. This technique allows precise mapping of the CAR transgene integration site and can be used to determine clonality or to assess the potential risk of secondary malignancies. </p> <p>As CAR T cell therapies continue to expand, careful monitoring and tailored computational approaches will be essential for refining these treatments and for advancing other emerging therapies such as T-cell receptor (TCR) therapy and natural killer (NK) cell-based therapies. In light of this, we provide tailored pipelines for the study and optimisation of adoptive cellular immunotherapies, with a focus on CAR T-cell therapy.</p>"},{"location":"Home/Pipelines/#explore-the-pipelines","title":"Explore the Pipelines","text":"<ul> <li> <p> CERTOMICS</p> <p>Purpose:  Multi-omics single-cell pipeline specifically tailored to CAR-engineered cell products. </p> <p>Supports: Optimized Nextflow pipeline compatible with 10x Genomics single cell technologies such as gene expression (5' and 3'), VDJ-T, VDJ-B, cell surface protein detection. Includes CAR-specific detection and mutli-modal quality control.</p> <p>Output: Seurat object with integrated single-cell multi-omic RNA-seq data ready for downstream analysis, together with an interactive webpage that consolidates cross-sample and CAR-specific quality metrics. </p> <p> CERTOMICS</p> </li> <li> <p> LivingDrugSpace (in progress)</p> <p>Here we will provide a Nextflow pipeline which processes spatial transcriptomics data generated by Visium (HD) technology. </p> <p> Coming Soon</p> </li> <li> <p> Integration Site Analysis (in progress)</p> <p>Integration site analysis enables precise mapping of CAR transgene insertion sites to assess clonality and safety risks.</p> <p>Read more about our unbiased whole-genome based approach in our publication: Braun et. al 2024</p> <p></p> <p> Coming Soon</p> </li> </ul> <p>Visit our GitHub Repository </p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/","title":"CERTOMICS","text":"<ul> <li> <p> Getting started</p> <p>If you're only interested in how to use the pipeline and its inputs, head over to the quickstart guide. </p> <p> Get started quickly</p> </li> <li> <p> What is CERTOMICS</p> <p>Want to understand what CERTOMICS is and how it works?</p> <p> What is CERTOMICS  Documentation</p> </li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#what-is-certomics","title":"What is CERTOMICS","text":"<p>This Nextflow-based pipeline offers enhanced certainty in immunophenotyping and data interpretation, tailored for single-cell multiomics profiling of adoptive cellular immunotherapies. CERTOMICS enables comprehensive immune profiling by supporting single-cell 10x Genomics technologies, such as gene expression (GEX) sequencing, cell surface protein detection, and V(D)J (TCR and BCR) sequencing. To reliably characterize CAR-positive cells, the pipeline enables CAR detection based on a custom reference and incorporates specialized quality control metrics to ensure robust identification of CAR-positive cells. </p> <p></p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#pipeline-overview","title":"Pipeline Overview","text":"<p>The pipeline is structured into three main processes: handling 10x data and libraries, performing core secondary analysis, and running quality control. The key feature of the pipeline is its ability to detect CAR-positive cells by incorporating a dedicated reference processing step. For this step, the user simply provide a CAR sequence file <code>.fasta</code> and CAR annotation file <code>.gtf</code>, for which CAR+ cells should be detected. For detailed explanation see: References. Common CAR sequences and annotation information can be found in our Resource.</p> <ul> <li><code>Workflow: HANDLE_REFERENCES</code> - Generates custom reference files for  CellRanger based on the sequencing libraries (GEX, VDJ, ADT) and the CAR construct (FASTA, GTF) given.</li> <li><code>Workflow: RUN_SECONDARY_ANALYSIS</code> - Executes CellRanger multi and generates a merged, annotated Seurat object, and computes CAR-specific quality control metrics, with results summarized in a dedicated webpage.</li> <li><code>Workflow: RUN_QUALITY_CONTROL</code> - Conducts quality control assessments using FASTQC (v0.12.1) FASTQ Screen (v0.15.3), and a custom multi-modal MultiQC (v1.24.1) module evaluate quality and composition of a multi-modal single-cell sequencing experiment.</li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#single-cell-multi-omics","title":"Single-cell multi-omics","text":""},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#cellranger-multi","title":"Cellranger multi","text":"<p>CERTOMICS allows for processing various combinations of gene expression and V(D)J libraries, with or without feature barcode libraries, across multiple samples derived from peripheral blood mononuclear cells (PBMCs). Specifically, it supports the analysis of common 10x Genomics single-cell (immune profiling) libraries using CellRanger Multi.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#seurat-object-output","title":"Seurat Object Output","text":"<p>The output of this pipeline is a merged Seurat object containing multi-modal single-cell data (RNA, VDJ and ADT assays) along with extensive metadata on cell type identity, quality metrices, cell cycle, and clonotype information, which serves the purpose of enabling detailed characterization and quality assessment of diverse cell populations from multiple samples. For a detailed explanation please see: Seurat Output</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#quality-control","title":"Quality Control","text":""},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#car-specific-metrics","title":"CAR-specific Metrics","text":"<p>Within a interactive summary webpage (see Example), CAR-specific quality control metrics are included. CAR-specific metrics are derived from two levels of data: \u201dRead-level\u201d metrics, based on mapped sequencing reads and \u201dCount-level\u201d metrics, based on CellRanger raw counts. </p> <ul> <li>Read-level metrics include coverage plots across the CAR construct, enabling assessment of read distribution and sequencing protocol performance (50 or 30), as well as absolute read counts per sample to evaluate transgene expression levels. Additionally, a comparison of kallisto- based estimated counts to alternative CAR isoforms can be included, serving as negative or internal controls to assess detection specificity.</li> <li>Count-level metrics provide biological insights by quantifying CAR-positive cell frequencies at different immune cell populations. This allows the assessment of patient-specific variability or comparison across different condition, e.g. before vs. after CAR expansion, as well as a negative control from CAR-negative cell populations.</li> </ul> <p>In addition to CAR-specific quality control, the webpage presents general GEX-specific statistics, including cell proportions, as well as VDJ sequencing statistics, such as clonotype composition for both T and B cells. These additional metrics provide insights into TCR/BCR diversity, expansion patterns, and immune repertoire changes, which are critical for understanding persistence, functionality, and immune cell interactions.</p> <p></p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#multi-qc-report","title":"Multi-QC Report","text":"<p>Provides an MultiQC overview of general quality metrics via FastQ-Screen and FastQC:</p> <p></p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#quickstart-guide","title":"Quickstart guide","text":""},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#downloading-the-pipeline","title":"Downloading the pipeline","text":"<p>To install the pipeline, simply download the Git repository via HTTP.</p> <pre><code>git clone https://github.com/fraunhofer-izi/CERTOMICS.git\n</code></pre> <p>Before attempting to run the pipeline, ensure that Nextflow is installed and up-to-date (<code>version &gt;= 24.10.2</code>). If you use the pipeline with the Singularity containers (recommended via<code>-profile sigularity</code>), Singularity must be installed and included in PATH, as well.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#supplying-data","title":"Supplying data","text":"<p>To provide all the necessary data (references, samples, etc.) a separate file is used. All values are captured in the YAML (or JSON) format in a so-called parameters file (or params-file) and passed to the pipeline with the <code>-params-file</code> flag. The parameters file should look something like this:</p> <pre><code>gene_expression_reference: \"/path/to/gex/reference\"\nvdj_reference: \"/path/to/vdj/reference\"\nsamples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: \"/path/to/sample_1_R\"\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_B'\n        fastqs: \"/path/to/sample_1_B\"\n        feature_types: 'VDJ-B'\n</code></pre> <p>A full explanation of the options you have and how to populate your own params-file can be found here.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/#documentation","title":"Documentation","text":"<p>To get a better understanding of what you can do with the pipeline and the options you have, check out the documentation</p> <ul> <li>Params-file with examples</li> <li>Command line arguments</li> <li>Pipeline output</li> <li>How is the reference built</li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/","title":"Command Line Arguments","text":"<p>When launching the pipeline, several options are available to further configure the execution through command-line arguments. These settings (excluding Nextflow-specific arguments starting with <code>-</code> instead of <code>--</code>) can also be defined in the Params-file, which can be used to document execution more thoroughly. However, if you prefer to keep the params-file minimal, using command-line arguments is a valid approach.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#available-arguments","title":"Available Arguments","text":""},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#profiles","title":"Profiles","text":"<p>Profiles are a powerful tool for customizing how the pipeline is executed. They can be used to adjust the execution environment, such as utilizing HPC systems or enabling containerization for processes. There are three preconfigured profiles: <code>singularity</code>, <code>slurm</code> and <code>standard</code> which can be enabled using the <code>-profile</code> flag when launching Nextflow. You can also combine multiple profiles like so: </p> <pre><code>nextflow run ... -profile &lt;profile1&gt;,&lt;profile2&gt;,&lt;...&gt;\n</code></pre> <p>You can also define your own profiles by changing the <code>nextflow.config</code>. Read the Nextflow documentation about profiles if you are interested in doing so.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#singularity","title":"Singularity","text":"<p>To ensure consistent and reproducible results, use the <code>singularity</code> profile, which runs pipeline processes in containers. The containers are pulled at runtime as needed, and they come prepackaged with all necessary dependencies for each process. Using the <code>singularity</code> profile is the recommended method as it provides consistency and avoids version conflicts.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#slurm","title":"Slurm","text":"<p>The <code>slurm</code> profile enables the pipeline to use the Slurm workload manager for distributing processes across a cluster environment. The actual distribution of processes is handled by Nextflow. However, note that the default resource values for processes may not work for your environment. Make sure to adjust them in the <code>nextflow.config</code> file accordingly.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#standard","title":"Standard","text":"<p>The <code>standard</code> profile simply instructs Nextflow to run the pipeline locally, which is the default behavior. It also expects all required binaries to be in <code>$PATH</code> so no containers are used. This profile is enabled by default.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#quality-control","title":"Quality Control","text":"<p>If desired, it is possible to skip the Quality Control (QC) steps (or individual subprocesses) during the pipeline execution. The following flags are available for skipping specific QC steps:</p> <ul> <li> <p><code>--skip_fastqc</code> - Flag to skip FastQC</p> </li> <li> <p><code>--skip_fastq_screen</code> - Flag to skip FastQ Screen</p> </li> <li> <p><code>--skip_multiqc</code> - Flag to skip MultiQC</p> </li> <li> <p><code>--skip_qc</code> - Flag to skip all QC steps entirely</p> </li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#config-files","title":"Config files","text":"<p>The processes <code>MULTIQC</code> and <code>FASTQ_SCREEN</code> need configuration files to run properly. By default, they use the files defined in <code>assets/config</code> but they can be changed with their respective parameters</p> <ul> <li> <p><code>--multiqc_config &lt;path&gt;</code></p> </li> <li> <p><code>--fastq_screen_config &lt;path&gt;</code></p> </li> </ul> <p>Important: Working with FastQ-Screen databases within Nextflow can be tricky because you cannot access files outside of the project directory without staging them first. Because of this you have to move the databases into the <code>assets/fastqs_databases</code> directory and reference them relative to the project directory with the <code>${projectDir}</code> variable which is substituted at runtime (Using other variables will not work). See the default config <code>assets/config/fastqs_config.conf</code> for an example.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/cli/#experimental-features","title":"Experimental features","text":"<p>CellRanger allows you to use a job scheduler like Slurm to distribute the subprocesses spawned by their pipelines. This can be used to significantly reduce runtime of the slow <code>CELLRANGER_MULTI</code> process. This feature is experimental and may cause pipelines running indefinitely without failing or processes being killed prematurely. For more information about cluster mode read this and this.</p> <ul> <li><code>--cellranger_disable_ui</code> - Flag to disable the Web-UI provided by the CellRanger processes (Safe to use)</li> <li><code>--cellranger_enable_cluster</code> - Flag to enable cluster mode</li> <li><code>--cellranger_cluster_template &lt;path&gt;</code> - Path to a <code>.template</code> file for your respective workload manager - default: <code>assets/cluster_templates/slurm.template</code></li> <li><code>--cellranger_max_jobs</code> - Maximum amount of jobs that can be spawned by a single instance of the CellRanger process - default: 4</li> <li><code>--cellranger_mem_per_core</code> - Maximum amount of memory consumed per CPU</li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/","title":"Output","text":""},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#where-to-find-output","title":"Where to Find Output","text":"<p>The output directory can be set using the <code>outdir</code> parameter. If this parameter is not overridden using the params-file or command-line arguments, the output is written to <code>${projectDir}/output</code>.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#output-structure","title":"Output Structure","text":"<p>After the pipeline completes successfully, the output directory should contain the following subdirectories:</p> Gene Expression Reference <p>The <code>gene_expression_reference</code> directory contains the output of the <code>BUILD_GEX_REFERENCE</code> process, which is run when building a reference at runtime. Using this output instead of regenerating the reference for each pipeline run helps reduce runtime and computing power.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#analysis-results","title":"Analysis Results","text":"CellRanger Multi <p>The <code>cellranger_multi</code> directory contains per-sample output directories from the <code>CELLRANGER_MULTI</code> process.</p> Seurat Object <p>The <code>seurat_object</code> directory contains the output of the <code>SEURAT_OBJECT</code> process, specifically the Seurat object itself. A merged Seurat object (<code>seurat_merged.Rds</code>) is generated, which includes all samples and their respective data types from 10x Genomics libraries.</p> <p>Gene expression data is stored in an assay called \"RNA,\" while Antibody Capture data is stored in an additional assay called \"ADT.\" As count matrix was corrected with SoupX, original counts are stored in \"original.counts\" assay.</p> <p>Additional metadata includes quality scores, mitochondrial and ribosomal gene abundance, cell cycle scores, and doublet removal information.</p> Quarto Webpage Summary <p>The <code>quarto</code> directory contains an interactive webpage that summarizes cross-sample quality metrics, allowing for direct comparisons between different samples. This summary includes:</p> <ul> <li>CAR-specific quality control metrics</li> <li>GEX-specific metrics</li> <li>VDJ-specific metrics</li> </ul>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#metadata-fields","title":"Metadata Fields","text":"<p>General Information - <code>orig.ident</code>: Original identity or batch identifier for each sample. - <code>nCount_RNA</code>: Total RNA molecule counts (UMI counts) for each cell. - <code>nFeature_RNA</code>: Number of unique genes detected in the RNA assay for each cell. - <code>nCount_ADT</code>: Total counts for the Antibody-Derived Tag (ADT) assay. - <code>nFeature_ADT</code>: Number of unique features detected in the ADT assay.</p> <p>Doublet Removal Scores (calculated with scDblFinder) - <code>scDblFinder_score</code>: Score estimating the likelihood that a cell is a doublet. - <code>scDblFinder_class</code>: Classification of cells as \"singlet\" or \"doublet\".</p> <p>Cell Cycle Information - <code>S.Score</code>: Score representing the activity of the S phase calculated with Seurat CellCycleScoring(). - <code>G2M.Score</code>: Score representing the activity of the G2/M phase calculated with Seurat CellCycleScoring(). - <code>Phase</code>: Predicted cell cycle phase (G2M, S or G1) based on S.Score and G2M.Score - <code>CellCycle</code>: True if cycling else False. Calculated using a cluster-based enrichement method. Enrichment based on genes from cell.cycle.obj of ProjectTILs package. - <code>CellCycle_Phase</code>: Combined Cell Cycle information based on CellCycleScoring() and Cluster-based apprach using gene set enrichment.</p> <p>Clonality and VDJ Information (if available) - <code>CTgene</code>: Clonotype gene information for each cell. - <code>CTnt</code>: Nucleotide sequence information of the clonotype. - <code>CTaa</code>: Amino acid sequence information of the clonotype. - <code>clonalProportion</code>: Proportion of cells belonging to a given clonotype. - <code>clonalFrequency</code>: Frequency of a specific clonotype in the sample. - <code>cloneSize</code>: Clonotype size category (e.g., \"Single,\" \"Small,\" \"Medium,\" \"Large,\" or \"Hyperexpanded\").</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#car-specific-quality-control-metrics","title":"CAR-Specific Quality Control Metrics","text":"<p>Read-Level Metrics - Coverage (unique and multimapping reads) across the CAR construct. - Absolute read counts against CAR construct per sample.</p> <p>Count-Level Metrics - Percentage (and absolute numbers) of CAR-positive cells (count&gt;0) compared to all T cells (CD4, CD8, gd) (based on scGate annotation) per sample. - Percentage (and absolute numbers) of CAR-positive cells (count&gt;0) compared to all CD4+ (A) and CD8+ (B) T cells (scGate annotation PBMC model) per sample.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#gex-specific-metrics","title":"GEX-specific Metrics","text":"<p>Cell Proportions - Insight into the distribution of different cell types, predicted with scGate using the PBMC model and default parameters.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#vdj-specific-metrics","title":"VDJ-specific Metrics","text":"<p>Clonotype composition for T and B cell receptor data: Absolute and relative numbers of unique clonotypes per sample.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/output/#qc","title":"QC","text":"FastQC <p>The <code>fastqc</code> directory contains the per-sample output directories from the <code>FASTQC</code> processes, containing a FastQC report for each sample.</p> FastQ Screen <p>The <code>fastq_screen</code> directory contains the per-sample output directories from the <code>FASTQ_SCREEN</code> processes, including a report verifying whether sequencing runs contain expected sequences by testing against genomes in <code>assets/fastq_databases</code>.</p> MultiQC <p>The <code>multiqc</code> directory contains the output of the <code>MULTIQC</code> process, which provides a summary of FastQC and FastQ Screen results.</p> Pipeline Info <p>The <code>pipeline_info</code> directory contains log data from the Nextflow pipeline itself.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/params-file/","title":"User Input - The Params File","text":"<p>User input is primarily passed as a <code>.yaml</code> or <code>.json</code> file containing the required parameters. This file is referred to as the <code>params-file</code>. Normally, the parameters in the file are listed in a flat structure without branches.</p> <p>As this pipeline supports the analysis of common 10x Genomics libraries for single-cell (immune profiling) by using CellRanger Multi, please refer to the original website for more information: Cell Ranger multi 3' and Cell Ranger multi 5' immune profiling.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/params-file/#references","title":"References","text":"<p>The references are provided through a series of different parameters. If you are interested in how the reference is built, read this</p> <p>Gene Expression:</p> <p>Info</p> <p>For guidance take a look at the decision-tree</p> <ul> <li><code>gene_expression_reference: &lt;path&gt;</code> - A prebuilt 10xGenomics compatible gene expression reference.</li> </ul> <p>OR:</p> <ul> <li> <p><code>gene_expression_reference_version: &lt;'2020'/'2024'&gt;</code> - Version of the reference building script to use - default: <code>'2024'</code></p> </li> <li> <p><code>gene_expression_source_fa: &lt;path&gt;</code> - Genome to build the custom gene expression reference with at runtime.</p> </li> <li> <p><code>gene_expression_source_gtf: &lt;path&gt;</code> - Annotation to build the custom gene expression reference with at runtime.</p> </li> <li> <p><code>gene_expression_car_fa: &lt;path&gt;</code> - CAR genome to add to gene expression reference at runtime.  Custom reference</p> </li> <li> <p><code>gene_expression_car_gtf: &lt;path&gt;</code> - CAR annotation to add to gene expression reference at runtime.  Custom reference</p> </li> </ul> <p>VDJ:</p> <ul> <li><code>vdj_reference: &lt;path&gt;</code> - A prebuilt 10xGenomics compatible VDJ reference.</li> </ul> <p>Feature Barcoding:</p> <ul> <li><code>feature_reference: &lt;path&gt;</code>: A prebuilt 10xGenomics compatible feature reference.</li> </ul> <p>These parameters can be put into the config like this:</p> <pre><code>gene_expression_reference: '/path/to/gex/reference'\nvdj_reference: '/path/to/vdj/reference'\nfeature_reference: '/path/to/feature/reference'\n</code></pre> <p>Note that only the references that will actually be used are necessary. For instance, if no VDJ-T library is used, there is no need to provide a VDJ reference.</p> <p>Regarding the <code>gene_expression_*</code> parameters, it is important to understand that the behavior of the pipeline changes depending on the parameters provided. This is because the pipeline can build a gene expression reference at runtime if the appropriate files are provided (at least <code>gene_expression_source_fa</code> and <code>gene_expression_source_gtf</code>). The <code>gene_expression_car_fa</code> and <code>gene_expression_car_gtf</code> parameters also come into play when building a custom reference (e.g. for detection of CAR mapping reads), as they are concatenated with their source counterparts if set. However, they are not simply ignored when <code>gene_expression_reference</code> is set. This is useful if you have a prebuilt custom reference with a concatenated CAR construct because in order for the pipeline to build metrics around the CAR construct it needs the unconcatenated construct. To do this just provide both <code>gene_expression_reference</code> as well as <code>gene_expression_car_fa</code> and <code>gene_expression_car_gtf</code>. For more details on how the reference-building process works, see the reference building explanation and the decision tree.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/params-file/#samples","title":"Samples","text":"<p>Unlike other parameters, the <code>samples</code> parameter is a list of maps. Each sample consists of the attributes <code>name</code> and <code>libraries</code>. The <code>name</code> attribute is an identifier for the sample and is used when naming the output. <code>libraries</code>, on the other hand, is, again, a list of maps. Each entry in <code>libraries</code> represents a 10x Genomics library and must include the fields <code>fastq_path</code>, <code>fastq_id</code>, and <code>feature_types</code>. These fields correspond to the definitions used by Cell Ranger Multi. When compiled, the value of <code>samples</code> might look like this:</p> <pre><code>samples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_B'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-B'\n      - ...\n  - name: ... \n</code></pre> <p>Currently, only the feature types <code>Gene Expression</code>, <code>VDJ-T</code>, <code>VDJ-B</code> and <code>Antibody Capture</code> are supported.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/params-file/#miscellaneous-settings","title":"Miscellaneous settings","text":"<p>For this pipeline, the params-file is primarily used to supply input to the pipeline, but it is not limited to just that. Settings like the output directory can also be overridden here instead of using command line arguments. Here is a short list of common settings and their default values:</p> <pre><code>outdir: \"${projectDir}/output\"\nskip_qc: false\nskip_multiqc: false\ntrace_report_suffix: \"{Current date (yyyy-MM-dd_HH-mm-ss)}\"\nvalidate_params: true\n</code></pre> <p>Read this if you want to learn more about the supported arguments.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/params-file/#params-file-examples","title":"Params-File Examples","text":"<pre><code>gene_expression_reference: '/path/to/gex/reference'\nvdj_reference: '/path/to/vdj/reference'\nfeature_reference: '/path/to/feature/reference'\nsamples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_T'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-T'\n      - fastq_id: 'sample_1_B'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-B'\n      - fastq_id: 'sample_1_A'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Antibody Capture'\n  - name: ...\n</code></pre> <pre><code>gene_expression_source_fa: '/path/to/gex/source.fa'\ngene_expression_source_gtf: '/path/to/gex/source.gtf'\ngene_expression_car_fa: '/path/to/gex/car.fa'\ngene_expression_car_gtf: '/path/to/gex/car.gtf'\nfeature_reference: '/path/to/feature/reference'\nsamples:\n  - name: 's1'\n    libraries:\n      - fastq_id: 'GEX_s1'\n        fastqs: '/path/to/GEX_s1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'ADT_s1'\n        fastqs: '/path/to/ADT_s1'\n        feature_types: 'Antibody Capture'\n</code></pre>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/reference_building/","title":"Reference Building","text":"<p>Info</p> <p>For guidance, take a look at the decision tree</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/reference_building/#when-is-a-reference-built","title":"When is a reference built?","text":"<p>Depending on the input parameters, the process checks whether a gene expression reference has already been built or needs to be built on the fly. If a prebuilt reference is available and the <code>--gene_expression_reference</code> parameter is set, the process uses it and skips reference generation. Otherwise, the pipeline proceeds to build a new reference based on the provided input.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/reference_building/#how-does-the-build-process-work","title":"How does the build process work?","text":"<p>The reference-building process is based on the pre-build scripts of the official 10x Genomics human references for 2024 and 2020. Both modified scripts can be found in the <code>templates</code> directory. They have been adapted for use in a Nextflow process but can still be reviewed manually.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/reference_building/#input","title":"Input","text":"<p>There are 7 parameters involved in building a custom reference:</p> <ul> <li><code>gene_expression_source_fa: &lt;path&gt;</code></li> <li><code>gene_expression_source_gtf: &lt;path&gt;</code></li> <li><code>gene_expression_source_fa_url: &lt;map&gt;</code></li> <li><code>gene_expression_source_gtf_url: &lt;map&gt;</code></li> <li><code>gene_expression_reference_version: &lt;'2020'/'2024'&gt;</code></li> <li><code>gene_expression_car_fa: &lt;path&gt;</code></li> <li><code>gene_expression_car_gtf: &lt;path&gt;</code></li> </ul> <p>To build a reference at least a Sequence file (FASTA / <code>.fa</code>) and an Annotation file (GTF / <code>.gtf</code>) are needed. The source files can be defined using the <code>gene_expression_source_fa</code> and <code>gene_expression_source_gtf</code> parameters. If they are not defined they have to be downloaded at runtime.  This is done using the URLs defined with the <code>gene_expression_source_fa_url</code> and <code>gene_expression_source_gtf_url</code> parameters.</p> <p>Attention</p> <p>The provided source files (.fa and .gtf) should match those used in the 10x 2020/2024 reference builds, as the scripts include version-specific filtering steps. If users wish to use other references than those from 10x, they must build the reference themselves and provide it via the <code>gene_expression_reference</code> parameter.</p> <p>If you wish to concatenate a CAR construct as well you also need the CAR Sequence file defined with the <code>gene_expression_car_fa</code> parameter as well as the CAR Annotation file defined with the <code>gene_expression_car_gtf</code> parameter. </p> <p>The <code>gene_expression_reference_version</code> parameter is used to decide which URL and what build script version is actually used in the process. It can either be <code>'2020'</code> or <code>'2024'</code> and defaults to <code>'2024'</code>. This means that the template <code>templates/build_reference_2024.sh</code>.</p>"},{"location":"Home/Pipelines/CERTOMICS-Pipeline/Documentation/reference_building/#process","title":"Process","text":"<p>If either of the source files is not already provided, they are downloaded in the <code>GET_GEX_SOURCE</code> process. These files are then passed to <code>BUILD_GEX_REFERENCE</code>. If CAR files are defined, they are also included as inputs.</p> <p>Within the build process, the appropriate script template is selected based on the <code>gene_expression_reference_version</code> parameter. The official 10x scripts are modified to additionally concatenation of CAR files \u2014 if provided \u2014 into the source files, just before the reference is built using <code>cellranger mkref</code>.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/","title":"LivingDrugOmics","text":"<ul> <li> <p> Getting started</p> <p>If you're only interested in how to use the pipeline and its inputs, head over to the quickstart guide. </p> <p> Get started quickly</p> </li> <li> <p> What is LivingDrugOmics</p> <p>Want to understand what LivingDrugOmics is and how it works?</p> <p> What is LivingDrugOmics  Documentation</p> </li> </ul>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#what-is-livingdrugomics","title":"What is LivingDrugOmics","text":"<p>This Nextflow pipeline has been developed to support single-cell multi-omics for in-depth profiling of CAR T-cell products. The LivingDrugOmics pipeline enables comprehensive immune profiling by supporting single-cell 10x Genomics technologies, such as gene expression (GEX) sequencing, cell surface protein detection, and V(D)J (TCR and BCR) sequencing. To reliably characterize CAR-positive T cells, the pipeline enables CAR detection based on a custom reference and incorporates specialized quality control metrics to ensure robust identification of CAR-positive cells. Please see </p> <p></p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#pipeline-overview","title":"Pipeline Overview","text":"<p>The pipeline is structured into three main processes: handling 10x data and libraries, performing core secondary analysis, and running quality control. The key feature of the pipeline is its ability to detect CAR-positive cells by incorporating a dedicated reference processing step. For this step, the user simply provide a CAR sequence file <code>.fasta</code> and CAR annotation file <code>.gtf</code>, for which CAR+ cells should be detected.For detailed explanation see: References. Common CAR sequences and annotation information can be found in our Resource.</p> <ul> <li><code>Workflow: HANDLE_REFERENCES</code> - Generates custom reference files for CellRanger based on the sequencing libraries (GEX, VDJ, ADT) and the CAR construct (FASTA, GTF) used.</li> <li><code>Workflow: RUN_SECONDARY_ANALYSIS</code> - Executes CellRanger multi and generates a merged, annotated Seurat object as well as CAR specific metrics.</li> <li><code>Workflow: RUN_QUALITY_CONTROL</code> - Quality control is performed using FastQC and FastQ-Screen. The results are merged using MultiQC.</li> </ul> <p></p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#single-cell-multi-omics","title":"Single-cell multi-omics","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#cellranger-multi","title":"Cellranger multi","text":"<p>LivingDrugOmics allows for processing various combinations of gene expression and V(D)J libraries, with or without feature barcode libraries, across multiple samples derived from peripheral blood mononuclear cells (PBMCs). Specifically, it supports the analysis of common 10x Genomics single-cell (immune profiling) libraries using CellRanger Multi.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#seurat-object-output","title":"Seurat Object Output","text":"<p>The output of this pipeline is a merged Seurat object containing multi-modal single-cell data (RNA, VDJ and ADT assays) along with extensive metadata on cell type identity, quality metrices, cell cycle, and clonotype information, which serves the purpose of enabling detailed characterization and quality assessment of diverse cell populations from multiple samples. For a detailed explanation please see: Seurat Output</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#quality-control","title":"Quality Control","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#car-specific-metrics","title":"CAR-specific Metrics","text":"<p>Within a interactive summary webpage (see Example), CAR-specific quality control metrics are included. CAR-specific metrics are derived from two levels of data: \u201dRead-level\u201d metrics, based on mapped sequencing reads and \u201dCount-level\u201d metrics, based on CellRanger raw counts. Read-level metrics assess the quality of the sequencing protocol (5\u2019 or 3\u2019) by analyzing coverage across the CAR construct and absolute read counts per sample. Count-level metrics provide biological insights by quantifying CAR+ cell frequencies at both the total T cell level and specific T cell subpopulations. Annotation is performed using the scGate tool with the PBMC model, ensuring identification and characterization of CAR+ T cell populations and other cell types.</p> <p></p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#multi-qc-report","title":"Multi-QC Report","text":"<p>Provides an MultiQC overview of general quality metrics via FastQ-Screen and FastQC:</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#quickstart-guide","title":"Quickstart guide","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#downloading-the-pipeline","title":"Downloading the pipeline","text":"<p>To install the pipeline, simply download the Git repository via HTTP.</p> <pre><code>git clone https://github.com/fraunhofer-izi/TODO.git\n</code></pre> <p>Before attempting to run the pipeline, ensure that Nextflow is installed and up-to-date (<code>version &gt;= 24.10.2</code>). If you use the pipeline with the Singularity containers (recommended via<code>-profile sigularity</code>), Singularity must be installed and included in PATH, as well.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#supplying-data","title":"Supplying data","text":"<p>To provide all the necessary data (references, samples, etc.) a separate file is used. All values are captured in the YAML (or JSON) format in a so-called parameters file (or params-file) and passed to the pipeline with the <code>-params-file</code> flag. The parameters file should look something like this:</p> <pre><code>gene_expression_reference: \"/path/to/gex/reference\"\nvdj_reference: \"/path/to/vdj/reference\"\nsamples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: \"/path/to/sample_1_R\"\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_B'\n        fastqs: \"/path/to/sample_1_B\"\n        feature_types: 'VDJ-B'\n</code></pre> <p>A full explanation of the options you have and how to populate your own params-file can be found here.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/#documentation","title":"Documentation","text":"<p>To get a better understanding of what you can do with the pipeline and the options you have, check out the documentation</p> <ul> <li>Params-file with examples</li> <li>Command line arguments</li> <li>Pipeline output</li> <li>How is the reference built</li> </ul>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/","title":"Command Line Arguments","text":"<p>When launching the pipeline, several options are available to further configure the execution through command-line arguments. These settings (excluding Nextflow-specific arguments starting with <code>-</code> instead of <code>--</code>) can also be defined in the Params-file, which can be used to document execution more thoroughly. However, if you prefer to keep the params-file minimal, using command-line arguments is a valid approach.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#available-arguments","title":"Available Arguments","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#profiles","title":"Profiles","text":"<p>Profiles are a powerful tool for customizing how the pipeline is executed. They can be used to adjust the execution environment, such as utilizing HPC systems or enabling containerization for processes. There are three preconfigured profiles: <code>singularity</code>, <code>slurm</code> and <code>standard</code> which can be enabled using the <code>-profile</code> flag when launching Nextflow. You can also combine multiple profiles like so: </p> <pre><code>nextflow run ... -profile &lt;profile1&gt;,&lt;profile2&gt;,&lt;...&gt;\n</code></pre> <p>You can also define your own profiles by changing the <code>nextflow.config</code>. Read the Nextflow documentation about profiles if you are interested in doing so.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#singularity","title":"Singularity","text":"<p>To ensure consistent and reproducible results, use the <code>singularity</code> profile, which runs pipeline processes in containers. The containers are pulled at runtime as needed, and they come prepackaged with all necessary dependencies for each process. Using the <code>singularity</code> profile is the recommended method as it provides consistency and avoids version conflicts.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#slurm","title":"Slurm","text":"<p>The <code>slurm</code> profile enables the pipeline to use the Slurm workload manager for distributing processes across a cluster environment. The actual distribution of processes is handled by Nextflow. However, note that the default resource values for processes may not work for your environment. Make sure to adjust them in the <code>nextflow.config</code> file accordingly.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#standard","title":"Standard","text":"<p>The <code>standard</code> profile simply instructs Nextflow to run the pipeline locally, which is the default behavior. It also expects all required binaries to be in <code>$PATH</code> so no containers are used. This profile is enabled by default.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#quality-control","title":"Quality Control","text":"<p>If desired, it is possible to skip the Quality Control (QC) steps (or individual subprocesses) during the pipeline execution. The following flags are available for skipping specific QC steps:</p> <ul> <li> <p><code>--skip_fastqc</code> - Flag to skip FastQC</p> </li> <li> <p><code>--skip_fastq_screen</code> - Flag to skip FastQ Screen</p> </li> <li> <p><code>--skip_multiqc</code> - Flag to skip MultiQC</p> </li> <li> <p><code>--skip_qc</code> - Flag to skip all QC steps entirely</p> </li> </ul>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#config-files","title":"Config files","text":"<p>The processes <code>MULTIQC</code> and <code>FASTQ_SCREEN</code> need configuration files to run properly. By default, they use the files defined in <code>assets/config</code> but they can be changed with their respective parameters</p> <ul> <li> <p><code>--multiqc_config &lt;path&gt;</code></p> </li> <li> <p><code>--fastq_screen_config &lt;path&gt;</code></p> </li> </ul> <p>Important: Working with FastQ-Screen databases within Nextflow can be tricky because you cannot access files outside of the project directory without staging them first. Because of this you have to move the databases into the <code>assets/fastqs_databases</code> directory and reference them relative to the project directory with the <code>${projectDir}</code> variable which is substituted at runtime (Using other variables will not work). See the default config <code>assets/config/fastqs_config.conf</code> for an example.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/cli/#experimental-features","title":"Experimental features","text":"<p>CellRanger allows you to use a job scheduler like Slurm to distribute the subprocesses spawned by their pipelines. This can be used to significantly reduce runtime of the slow <code>CELLRANGER_MULTI</code> process. This feature is experimental and may cause pipelines running indefinitely without failing or processes being killed prematurely. For more information about cluster mode read this and this.</p> <ul> <li><code>--cellranger_disable_ui</code> - Flag to disable the Web-UI provided by the CellRanger processes (Safe to use)</li> <li><code>--cellranger_enable_cluster</code> - Flag to enable cluster mode</li> <li><code>--cellranger_cluster_template &lt;path&gt;</code> - Path to a <code>.template</code> file for your respective workload manager - default: <code>assets/cluster_templates/slurm.template</code></li> <li><code>--cellranger_max_jobs</code> - Maximum amount of jobs that can be spawned by a single instance of the CellRanger process - default: 4</li> <li><code>--cellranger_mem_per_core</code> - Maximum amount of memory consumed per CPU</li> </ul>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/","title":"Output","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#where-to-find-output","title":"Where to Find Output","text":"<p>The output directory can be set using the <code>outdir</code> parameter. If this parameter is not overridden using the params-file or command-line arguments, the output is written to <code>${projectDir}/output</code>.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#output-structure","title":"Output Structure","text":"<p>After the pipeline completes successfully, the output directory should contain the following subdirectories:</p> Gene Expression Reference <p>The <code>gene_expression_reference</code> directory contains the output of the <code>BUILD_GEX_REFERENCE</code> process, which is run when building a reference at runtime. Using this output instead of regenerating the reference for each pipeline run helps reduce runtime and computing power.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#analysis-results","title":"Analysis Results","text":"CellRanger Multi <p>The <code>cellranger_multi</code> directory contains per-sample output directories from the <code>CELLRANGER_MULTI</code> process.</p> Seurat Object <p>The <code>seurat_object</code> directory contains the output of the <code>SEURAT_OBJECT</code> process, specifically the Seurat object itself. A merged Seurat object (<code>seurat_merged.Rds</code>) is generated, which includes all samples and their respective data types from 10x Genomics libraries.</p> <p>Gene expression data is stored in an assay called \"RNA,\" while Antibody Capture data is stored in an additional assay called \"ADT.\"</p> <p>Additional metadata includes quality scores, mitochondrial and ribosomal gene abundance, cell cycle scores, and doublet removal information.</p> Quarto Webpage Summary <p>The <code>quarto</code> directory contains an interactive webpage that summarizes cross-sample quality metrics, allowing for direct comparisons between different samples. This summary includes:</p> <ul> <li>CAR-specific quality control metrics</li> <li>GEX-specific metrics</li> <li>VDJ-specific metrics</li> </ul>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#metadata-fields","title":"Metadata Fields","text":"<p>General Information - <code>orig.ident</code>: Original identity or batch identifier for each sample. - <code>nCount_RNA</code>: Total RNA molecule counts (UMI counts) for each cell. - <code>nFeature_RNA</code>: Number of unique genes detected in the RNA assay for each cell. - <code>nCount_ADT</code>: Total counts for the Antibody-Derived Tag (ADT) assay. - <code>nFeature_ADT</code>: Number of unique features detected in the ADT assay.</p> <p>Doublet Removal Scores (calculated with scDblFinder) - <code>scDblFinder_score</code>: Score estimating the likelihood that a cell is a doublet. - <code>scDblFinder_class</code>: Classification of cells as \"singlet\" or \"doublet\".</p> <p>Cell Cycle Information - <code>S.Score</code>: Score representing the activity of the S phase calculated with Seurat CellCycleScoring(). - <code>G2M.Score</code>: Score representing the activity of the G2/M phase calculated with Seurat CellCycleScoring(). - <code>Phase</code>: Predicted cell cycle phase (G2M, S or G1) based on S.Score and G2M.Score - <code>CellCycle</code>: True if cycling else False. Calculated using a cluster-based enrichement method. Enrichment based on genes from cell.cycle.obj of ProjectTILs package. - <code>CellCycle_Phase</code>: Combined Cell Cycle information based on CellCycleScoring() and Cluster-based apprach using gene set enrichment.</p> <p>Clonality and VDJ Information (if available) - <code>CTgene</code>: Clonotype gene information for each cell. - <code>CTnt</code>: Nucleotide sequence information of the clonotype. - <code>CTaa</code>: Amino acid sequence information of the clonotype. - <code>clonalProportion</code>: Proportion of cells belonging to a given clonotype. - <code>clonalFrequency</code>: Frequency of a specific clonotype in the sample. - <code>cloneSize</code>: Clonotype size category (e.g., \"Single,\" \"Small,\" \"Medium,\" \"Large,\" or \"Hyperexpanded\").</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#car-specific-quality-control-metrics","title":"CAR-Specific Quality Control Metrics","text":"<p>Read-Level Metrics - Coverage (unique and multimapping reads) across the CAR construct. - Absolute read counts against CAR construct per sample.</p> <p>Count-Level Metrics - Percentage (and absolute numbers) of CAR-positive cells (count&gt;0) compared to all T cells (CD4, CD8, gd) (based on scGate annotation) per sample. - Percentage (and absolute numbers) of CAR-positive cells (count&gt;0) compared to all CD4+ (A) and CD8+ (B) T cells (scGate annotation PBMC model) per sample.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#gex-specific-metrics","title":"GEX-specific Metrics","text":"<p>Cell Proportions - Insight into the distribution of different cell types, predicted with scGate using the PBMC model and default parameters.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#vdj-specific-metrics","title":"VDJ-specific Metrics","text":"<p>Clonotype composition for T and B cell receptor data: Absolute and relative numbers of unique clonotypes per sample.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/output/#qc","title":"QC","text":"FastQC <p>The <code>fastqc</code> directory contains the per-sample output directories from the <code>FASTQC</code> processes, containing a FastQC report for each sample.</p> FastQ Screen <p>The <code>fastq_screen</code> directory contains the per-sample output directories from the <code>FASTQ_SCREEN</code> processes, including a report verifying whether sequencing runs contain expected sequences by testing against genomes in <code>assets/fastq_databases</code>.</p> MultiQC <p>The <code>multiqc</code> directory contains the output of the <code>MULTIQC</code> process, which provides a summary of FastQC and FastQ Screen results.</p> Pipeline Info <p>The <code>pipeline_info</code> directory contains log data from the Nextflow pipeline itself.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/params-file/","title":"User Input - The Params File","text":"<p>User input is primarily passed as a <code>.yaml</code> or <code>.json</code> file containing the required parameters. This file is referred to as the <code>params-file</code>. Normally, the parameters in the file are listed in a flat structure without branches.</p> <p>As this pipeline supports the analysis of common 10x Genomics libraries for single-cell (immune profiling) by using CellRanger Multi, please refer to the original website for more information: Cell Ranger multi 3' and Cell Ranger multi 5' immune profiling.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/params-file/#references","title":"References","text":"<p>The references are provided through a series of different parameters. If you are interested in how the reference is built, read this</p> <p>Gene Expression:</p> <ul> <li> <p><code>gene_expression_reference: &lt;path&gt;</code> - A prebuilt 10xGenomics compatible gene expression reference.</p> </li> <li> <p><code>gene_expression_reference_version: &lt;'2020'/'2024'&gt;</code> - Version of the reference building script to use - default: <code>'2024'</code></p> </li> <li> <p><code>gene_expression_source_fa: &lt;path&gt;</code> - Genome to build the custom gene expression reference with at runtime.</p> </li> <li> <p><code>gene_expression_source_gtf: &lt;path&gt;</code> - Annotation to build the custom gene expression reference with at runtime.</p> </li> <li> <p><code>gene_expression_car_fa: &lt;path&gt;</code> - CAR genome to add to gene expression reference at runtime.</p> </li> <li> <p><code>gene_expression_car_gtf: &lt;path&gt;</code> - CAR annotation to add to gene expression reference at runtime.</p> </li> </ul> <p>VDJ:</p> <ul> <li><code>vdj_reference: &lt;path&gt;</code> - A prebuilt 10xGenomics compatible VDJ reference.</li> </ul> <p>Feature Barcoding:</p> <ul> <li><code>feature_reference: &lt;path&gt;</code>: A prebuilt 10xGenomics compatible feature reference.</li> </ul> <p>These parameters can be put into the config like this:</p> <pre><code>gene_expression_reference: '/path/to/gex/reference'\nvdj_reference: '/path/to/vdj/reference'\nfeature_reference: '/path/to/feature/reference'\n</code></pre> <p>Note that only the references that will actually be used are necessary. For instance, if no VDJ-T library is used, there is no need to provide a VDJ reference.</p> <p>Regarding the <code>gene_expression_*</code> parameters, it is important to understand that the behavior of the pipeline changes depending on the parameters provided. This is because the pipeline can build a gene expression reference at runtime if the appropriate files are provided (at least <code>gene_expression_source_fa</code> and <code>gene_expression_source_gtf</code>). The <code>gene_expression_car_fa</code> and <code>gene_expression_car_gtf</code> parameters also come into play when building a custom reference (e.g. for detection of CAR mapping reads), as they are concatenated with their source counterparts if set. However, they are not simply ignored when <code>gene_expression_reference</code> is set. This is useful if you have a prebuilt custom reference with a concatenated CAR construct because in order for the pipeline to build metrics around the CAR construct it needs the unconcatenated construct. To do this just provide both <code>gene_expression_reference</code> as well as <code>gene_expression_car_fa</code> and <code>gene_expression_car_gtf</code>. For more details on how the reference-building process works, see the reference building explanation.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/params-file/#samples","title":"Samples","text":"<p>Unlike other parameters, the <code>samples</code> parameter is a list of maps. Each sample consists of the attributes <code>name</code> and <code>libraries</code>. The <code>name</code> attribute is an identifier for the sample and is used when naming the output. <code>libraries</code>, on the other hand, is, again, a list of maps. Each entry in <code>libraries</code> represents a 10x Genomics library and must include the fields <code>fastq_path</code>, <code>fastq_id</code>, and <code>feature_types</code>. These fields correspond to the definitions used by Cell Ranger Multi. When compiled, the value of <code>samples</code> might look like this:</p> <pre><code>samples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_B'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-B'\n      - ...\n  - name: ... \n</code></pre> <p>Currently, only the feature types <code>Gene Expression</code>, <code>VDJ-T</code>, <code>VDJ-B</code> and <code>Antibody Capture</code> are supported.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/params-file/#miscellaneous-settings","title":"Miscellaneous settings","text":"<p>For this pipeline, the params-file is primarily used to supply input to the pipeline, but it is not limited to just that. Settings like the output directory can also be overridden here instead of using command line arguments. Here is a short list of common settings and their default values:</p> <pre><code>outdir: \"${projectDir}/output\"\nskip_qc: false\nskip_multiqc: false\ntrace_report_suffix: \"{Current date (yyyy-MM-dd_HH-mm-ss)}\"\nvalidate_params: true\n</code></pre> <p>Read this if you want to learn more about the supported arguments.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/params-file/#params-file-examples","title":"Params-File Examples","text":"<pre><code>gene_expression_reference: '/path/to/gex/reference'\nvdj_reference: '/path/to/vdj/reference'\nfeature_reference: '/path/to/feature/reference'\nsamples:\n  - name: 'sample_1'\n    libraries:\n      - fastq_id: 'sample_1_R'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'sample_1_T'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-T'\n      - fastq_id: 'sample_1_B'\n        fastqs: '/path/to/sample1'\n        feature_types: 'VDJ-B'\n      - fastq_id: 'sample_1_A'\n        fastqs: '/path/to/sample1'\n        feature_types: 'Antibody Capture'\n  - name: ...\n</code></pre> <pre><code>gene_expression_source_fa: '/path/to/gex/source.fa'\ngene_expression_source_gtf: '/path/to/gex/source.gtf'\ngene_expression_car_fa: '/path/to/gex/car.fa'\ngene_expression_car_gtf: '/path/to/gex/car.gtf'\nfeature_reference: '/path/to/feature/reference'\nsamples:\n  - name: 's1'\n    libraries:\n      - fastq_id: 'GEX_s1'\n        fastqs: '/path/to/GEX_s1'\n        feature_types: 'Gene Expression'\n      - fastq_id: 'ADT_s1'\n        fastqs: '/path/to/ADT_s1'\n        feature_types: 'Antibody Capture'\n</code></pre>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/reference_building/","title":"Reference Building","text":""},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/reference_building/#when-is-a-reference-built","title":"When is a reference built?","text":"<p>Depending on the input parameters, the process checks whether a gene expression reference has already been built or needs to be built on the fly. If a prebuilt reference is available and the <code>--gene_expression_reference</code> parameter is set, the process uses it and skips reference generation. Otherwise, the pipeline proceeds to build a new reference based on the provided input.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/reference_building/#how-does-the-build-process-work","title":"How does the build process work?","text":"<p>The reference-building process is based on the pre-build scripts of the official 10x Genomics human references for 2024 and 2020. Both modified scripts can be found in the <code>templates</code> directory. They have been adapted for use in a Nextflow process but can still be reviewed manually.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/reference_building/#input","title":"Input","text":"<p>There are 7 parameters involved in building a custom reference:</p> <ul> <li><code>gene_expression_source_fa: &lt;path&gt;</code></li> <li><code>gene_expression_source_gtf: &lt;path&gt;</code></li> <li><code>gene_expression_source_fa_url: &lt;map&gt;</code></li> <li><code>gene_expression_source_gtf_url: &lt;map&gt;</code></li> <li><code>gene_expression_reference_version: &lt;'2020'/'2024'&gt;</code></li> <li><code>gene_expression_car_fa: &lt;path&gt;</code></li> <li><code>gene_expression_car_gtf: &lt;path&gt;</code></li> </ul> <p>To build a reference at least a Sequence file (FASTA / <code>.fa</code>) and an Annotation file (GTF / <code>.gtf</code>) are needed. The source files can be defined using the <code>gene_expression_source_fa</code> and <code>gene_expression_source_gtf</code> parameters. If they are not defined they have to be downloaded at runtime.  This is done using the URLs defined with the <code>gene_expression_source_fa_url</code> and <code>gene_expression_source_gtf_url</code> parameters.</p> <p>Attention</p> <p>The provided source files (.fa and .gtf) should match those used in the 10x 2020/2024 reference builds, as the scripts include version-specific filtering steps. If users wish to use other references than those from 10x, they must build the reference themselves and provide it via the <code>gene_expression_reference</code> parameter.</p> <p>If you wish to concatenate a CAR construct as well you also need the CAR Sequence file defined with the <code>gene_expression_car_fa</code> parameter as well as the CAR Annotation file defined with the <code>gene_expression_car_gtf</code> parameter. </p> <p>The <code>gene_expression_reference_version</code> parameter is used to decide which URL and what build script version is actually used in the process. It can either be <code>'2020'</code> or <code>'2024'</code> and defaults to <code>'2024'</code>. This means that the template <code>templates/build_reference_2024.sh</code>.</p>"},{"location":"Home/Pipelines/LivingDrugOmics-Pipeline/Documentation/reference_building/#process","title":"Process","text":"<p>If either of the source files is not already provided, they are downloaded in the <code>GET_GEX_SOURCE</code> process. These files are then passed to <code>BUILD_GEX_REFERENCE</code>. If CAR files are defined, they are also included as inputs.</p> <p>Within the build process, the appropriate script template is selected based on the <code>gene_expression_reference_version</code> parameter. The official 10x scripts are modified to additionally concatenation of CAR files \u2014 if provided \u2014 into the source files, just before the reference is built using <code>cellranger mkref</code>.</p>"},{"location":"Home/Resources/","title":"Resource on CAR T Cell Therapies","text":"<p>This repository supports the analysis and development of CAR-T cell therapies by providing curated sequence and annotation data for common FDA-approved and non-approved CAR products. For details on data sources (e.g. patents) and the annotation process, see the Sequence Retrieval and Annotation Process section. It is regularly updated to ensure access to the latest information in this rapidly advancing field.</p>"},{"location":"Home/Resources/#car-constructs","title":"CAR Constructs","text":"<p>CAR constructs \u2014 engineered gene sequences encoding chimeric antigen receptors \u2014 can differ significantly across therapies. These variations necessitate tailored approaches for the accurate detection of CAR-positive cells, for example through single-cell sequencing, and can substantially influence the function and behavior of CAR-T cells. For more information see: CAR constructs. This repository includes detailed nucleotide sequences and annotation data for CAR constructs from the latest publicly available CAR-T therapies.</p>"},{"location":"Home/Resources/#vector-systems","title":"Vector Systems","text":"<p>Vector systems \u2014 such as viral vectors used to deliver CAR constructs into T cells \u2014 are critical for determining the efficiency, safety, and stability of gene transfer. Vector systems vary in key components, including promoter type, regulatory elements, and backbone sequences, all of which impact CAR expression and genomic integration. For more information see: Vector systems. To support deeper analysis, the repository also provides full vector sequences and annotations, which are essential for applications like integration site analysis. These data enable researchers to evaluate how CAR constructs integrate into the genome, a crucial factor in assessing the safety and efficacy of CAR-T cell therapies and to compare functional differences between vector systems.</p> <p></p> Image adapted from bpsbioscience.com"},{"location":"Home/Resources/#resources","title":"Resources","text":"<ul> <li> <p>CAR constructs</p> <p>Get nucleotide sequences <code>.fasta</code> and annotation information <code>.gtf</code></p> <p> Nucleotide sequence</p> <p> Annotations</p> </li> <li> <p>Vectors systems</p> <p>Get nucleotide sequences <code>.fasta</code> and annotation information <code>.gtf</code></p> <p> Nucleotide sequence </p> <p> Annotations</p> </li> <li> <p>Full documentation</p> <p>View \"Sequence Retrieval and Annotation Process\" on how and where sequence and annotation information was retrieved.</p> <p> Sequence Retrieval and Annotation Process</p> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/","title":"CAR Constructs","text":"<p>This page summarizes information on FDA-approved and non-approved chimeric antigen receptors (CAR) constructs. This serves as a comprehensive resource for researchers and bioinformaticians working with CAR T-cell profiling. </p> <p>CAR constructs are categorized into different generations, each representing a stage of development. With each generation, specific enhancements are introduced\u2014such as the addition of co-stimulatory domains (e.g., CD28, 4-1BB), improvements in antigen-binding affinity, signaling strength, or persistence, and the incorporation of safety switches or logic gating. These modifications are designed to increase therapeutic efficacy, prolong cell survival, and reduce toxicity or off-target effects.</p> <p>Below, both FDA-approved and non-approved CAR products are presented with detailed descriptions of their structural differences regarding the CAR construct. Precise knowledge of CAR sequences is essential for performing in-depth sequence analyses, including accurate identification of CAR expression, detection of potential mutations, assessment of binding affinities, and evaluation of immunogenicity, all critical for optimizing CAR design and functionality.</p> Image adapted from  Tomasik et. al 2022"},{"location":"Home/Resources/CAR-constructs/#link-to-resources","title":"Link to Resources","text":"<ul> <li> <p>CAR constructs</p> <p>Get nuceleotide sequences <code>.fasta</code> and annotation information <code>.gtf</code></p> <p> Nucleotide sequence</p> <p> Annotations</p> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#fda-approved-car-t-cell-therapies","title":"FDA-Approved CAR T Cell Therapies","text":"Image adapted from Grahnert et al. Biomedicines (2020) *novel CD19 CAR (CAT = using a CAT131E10 hybridoma (CAT))"},{"location":"Home/Resources/CAR-constructs/#fda-approved-car-t-cell-therapies-summary-table","title":"FDA-Approved CAR T Cell Therapies \u2013 Summary Table","text":"Therapy Name Approval Date Antigen Target Indication Antigen Recognition Spacer Transmembrane Signaling Link Idecabtagene Vicleucel (Abecma) 2021-03-26 BCMA Multiple Myeloma BCMA scFv (VHH1-G4S-VHH2) CD8a hinge CD8a transmembrane domain 4-1BB, CD3\u03b6 https://www.drugs.com/pro/abecma.html Ciltacabtagene Autoleucel (Carvykti) 2022-02-28 BCMA Multiple Myeloma BCMA scFv (VHH1-G4S-VHH2) CD8a hinge CD8a transmembrane domain 4-1BB, CD3\u03b6 https://www.drugs.com/pro/carvykti.html Tisagenlecleucel (Kymriah) 2017-08-30 CD19 Acute Lymphocytic Leukemia FMC63 (anti-CD19) CD8 hinge CD8 TMD 4-1BB, CD3\u03b6 https://www.fda.gov/vaccines-blood-biologics/cellular-gene-therapy-products/kymriah-tisagenlecleucel Axicabtagene Ciloleucel (Yescarta) 2017-10-18 CD19 B-cell Lymphoma FMC63 (anti-CD19) CD28 extracellular CD28 TMD CD28 intracellular, CD3\u03b6 https://www.fda.gov/vaccines-blood-biologics/cellular-gene-therapy-products/yescarta-axicabtagene-ciloleucel Brexucabtagene Autoleucel (Tecartus) 2020-07-24 CD19 MCL / ALL FMC63 (anti-CD19) CD28 extracellular CD28 TMD CD28 intracellular, CD3\u03b6 https://www.drugs.com/pro/tecartus.html, same design as Axi-Cel https://www.scienceboard.net/index.aspx?sec=ser&amp;sub=def&amp;pag=dis&amp;ItemID=3389 Lisocabtagene Maraleucel (Breyanzi) 2021-02-05 CD19 B-cell Lymphoma FMC63 (anti-CD19) IgG4 hinge CD28 TMD 4-1BB, CD3\u03b6 https://www.drugs.com/pro/breyanzi.html Obecabtagene Autoleucel (Obe-cel / Aucatzyl) 2024-11-08 CD19 R/R B-cell precursor ALL CAT131E10 (anti-CD19, low affinity) CD8a hinge CD8a TMD 4-1BB, CD3\u03b6 https://www.cgtlive.com/view/fda-approves-obe-cel-adults-relapsed-refractory-b-cell-precursor-acute-lymphoblastic-leukemia"},{"location":"Home/Resources/CAR-constructs/#1-idecabtagene-vicleucel-abecma","title":"1. Idecabtagene Vicleucel (Abecma)","text":"<ul> <li>Indication: Multiple Myeloma</li> <li>Approval Date: March 26, 2021</li> <li>Antigen Target: BCMA (B-cell maturation antigen)</li> <li>CAR Construct Structure:<ul> <li>CD8a signal peptide</li> <li>BCMA scFv (VHH1 linker G4S VHH2)</li> <li>CD8a hinge</li> <li>CD8a transmembrane domain</li> <li>CD137/4-1BB cytoplasmic</li> <li>CD3\u03b6 cytoplasmic</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#2-ciltacabtagene-autoleucel-carvykti","title":"2. Ciltacabtagene Autoleucel (Carvykti)","text":"<ul> <li>Indication: Multiple Myeloma</li> <li>Approval Date: February 28, 2022</li> <li>Antigen Target: BCMA (B-cell maturation antigen)</li> <li>CAR Construct Structure:<ul> <li>CD8a signal peptide</li> <li>BCMA scFv (VHH1 linker G4S VHH2)</li> <li>CD8a hinge</li> <li>CD8a transmembrane domain</li> <li>CD137/4-1BB cytoplasmic</li> <li>CD3\u03b6 cytoplasmic</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#3-tisagenlecleucel-kymriah","title":"3. Tisagenlecleucel (Kymriah)","text":"<ul> <li>Indication: Acute Lymphocytic Leukemia</li> <li>Approval Date: August 30, 2017</li> <li>Antigen Target: CD19</li> <li>CAR Construct Structure:<ul> <li>CD8 signal peptide</li> <li>FMC63 (anti-CD19)</li> <li>CD8alpha (hinge and TMD)</li> <li>CD137/4-1BB</li> <li>CD3\u03b6</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#4-axicabtagene-ciloleucel-yescarta","title":"4. Axicabtagene Ciloleucel (Yescarta)","text":"<ul> <li>Indication: B-cell Lymphoma</li> <li>Approval Date: October 18, 2017</li> <li>Antigen Target: CD19</li> <li>CAR Construct Structure:<ul> <li>CSF2RA signal peptide RefSeq</li> <li>FMC63 (anti-CD19)</li> <li>CD28 (part of extracellular, TMD, and intracellular)</li> <li>CD3\u03b6 (complete intracellular domain)</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#5-brexucabtagene-autoleucel-tecartus","title":"5. Brexucabtagene Autoleucel (Tecartus)","text":"<ul> <li>Indication: Mantle Cell Lymphoma or Acute Lymphocytic Leukemia</li> <li>Approval Date: July 24, 2020 (MCL), October 1, 2021 (ALL)</li> <li>Antigen Target: CD19</li> <li>CAR Construct Structure:<ul> <li>same design as Axicabtagene Ciloleucel (https://www.scienceboard.net/index.aspx?sec=ser&amp;sub=def&amp;pag=dis&amp;ItemID=3389) but different manufracturing process. </li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#6-lisocabtagene-maraleucel-breyanzi","title":"6. Lisocabtagene Maraleucel (Breyanzi)","text":"<ul> <li>Indication: B-cell Lymphoma</li> <li>Approval Date: February 5, 2021</li> <li>Antigen Target: CD19</li> <li>CAR Construct Structure:<ul> <li>anti-CD19 (FMC63)</li> <li>IgG4 (hinge)</li> <li>CD28 (TMD)</li> <li>CD137/4-1BB</li> <li>CD3\u03b6</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#7-obecabtagene-autoleucel-obe-cel-aucatzyl","title":"7. Obecabtagene Autoleucel (Obe-cel / Aucatzyl)","text":"<ul> <li>Indication: Relapsed or refractory (R/R) B-cell precursor acute lymphoblastic leukemia (ALL)</li> <li>Approval Date: November 8, 2024 Link</li> <li>Antigen Target: CD19</li> <li>CAR Construct Structure: <ul> <li>anti-CD19 (novel CD19 CAR (CAT = using a CAT131E10 hybridoma (CAT)) with a lower affinity than FMC63)</li> <li>CD8a (hinge and TMD)</li> <li>CD137/4-1BB</li> <li>CD3\u03b6</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#non-fda-approved-car-t-and-related-therapies","title":"Non-FDA Approved CAR T and Related Therapies","text":""},{"location":"Home/Resources/CAR-constructs/#non-fda-approved-car-t-cell-therapies-summary-table","title":"Non-FDA-Approved CAR T Cell Therapies - Summary Table","text":"Therapy Name CAR Design Antigen Target Indication CAR Construct Structure Link ALLO-501 Allogeneic CD19 Non-Hodgkin Lymphoma Allogeneic CAR; CD19-specific https://www.allogene.com/pipeline/allo-501 FT819 Allogeneic CD19 Relapsed/Refractory B-Cell Malignancies Off-the-shelf iPSC-derived CD19 CAR T https://fatetherapeutics.com/pipeline/ft819/ Mesothelin CAR (Alnuctamab) Bi-specific engager BCMA and CD3 Relapsed/Refractory Multiple Myeloma BiTE targeting BCMA on myeloma and CD3 on T cells https://clinicaltrials.gov/study/NCT03054298 KYV-101 Conventional CD19 CAR CD19 Autoimmune diseases (e.g., lupus nephritis) Hu19 scFv, CD8a hinge/TMD, CD28, CD3\u03b6 https://www.kyvernatx.com/pipeline/kyv-101 ATA2271 Conventional single target Mesothelin Solid Tumors Mesothelin-targeted CAR T https://www.atarabio.com/pipeline/ata2271/ GPRC5D CAR Conventional single target GPRC5D Relapsed/Refractory Multiple Myeloma GPRC5D-targeted CAR in early clinical development https://ashpublications.org/blood/article/142/Supplement%201/219/499690/BMS-986393-CC-95266-a-G-Protein-Coupled-Receptor APRIL-based CAR Dual-targeting BCMA and TACI Multiple Myeloma APRIL protein domain 116\u2013250; IgG1/CD8 spacers https://jitc.bmj.com/content/11/6/e006699 GC012F Dual-targeting BCMA and CD19 Multiple Myeloma Dual-target CAR T, phase 1/2 https://www.gracellbio.com/pipeline/gc012f P-BCMA-101 Safety switch BCMA Multiple Myeloma BCMA CAR with safety switch, memory T cells https://poseida.com/pipeline/p-bcma-101/ ROR1 CAR Safety switch ROR1 Leukemia, lymphoma, solid tumors R11/R12 scFv, CD28, 4-1BB, CD3\u03b6, EGFR safety switch https://aacrjournals.org/clincancerres/article/31/3/503/751210/Phase-I-Study-of-ROR1-Specific-CAR-T-Cells-in"},{"location":"Home/Resources/CAR-constructs/#1-april-based-car-t-cell-therapy-jitc-2023","title":"1. APRIL-based CAR T Cell Therapy \u2013 JITC (2023)","text":"<ul> <li>Status: Not yet FDA approved (Wang et al., 2021)</li> <li>Antigen Target: Dual-antigen CAR: BCMA and TACI (Cyclophilin Ligand Interactor)</li> <li>Indication: Multiple Myeloma</li> <li>CAR Construct Structure:<ul> <li>Patent: No17 (Patent April)</li> <li>Protein Region: 116-250 of APRIL protein (Uniprot 075888)</li> <li>Signal Peptide: IgK k chain V-III</li> <li>Scaffold: CAR scaffold comprising IgG1 hinge spacer, CD8 alpha spacer, or IgG1 Fc domain</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#2-ror1-car-t-cell-therapy-clinical-cancer-research-2024","title":"2. ROR1 CAR T Cell Therapy \u2013 Clinical Cancer Research (2024)","text":"<ul> <li>Status: Study by Osorio-Rodriguez (2023)</li> <li>Antigen Target: ROR1</li> <li>Indication: Leukemia, lymphoma, and some solid tumors overexpress ROR1</li> <li>CAR Construct Structure:<ul> <li>ScFv: R11 or R12-scFv (mouse cells do not carry R12)</li> <li>Hinge: IG4-hinge</li> <li>Costimulatory Domains: CD28, 4-1BB</li> <li>Signaling Domain: CD3\u03b6</li> <li>Additional Components: T2A viral protein (ribosomal skipping), truncated EGFR (safety switch to detect CAR+ expressing cells with anti-EGFR antibody)</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#3-mesothelin-directed-car-t-therapy-nct03054298-clinicaltrialsgov","title":"3. Mesothelin-Directed CAR T Therapy (NCT03054298) \u2013 ClinicalTrials.gov","text":"<ul> <li>Status: NCT03054298</li> <li>Antigen Target: Simultaneously binds myeloma cells expressing BCMA and T cells (via CD3)</li> <li>Indication: Relapsed/Refractory Multiple Myeloma (RRMM)</li> <li>Drug: Alnuctamab (Bi-specific T Cell Engager)</li> <li>References:<ul> <li>ASH Publications</li> <li>Cell Cancer</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#4-gprc5d-car-t-bms-986393-cc-95266-ash-publications","title":"4. GPRC5D CAR T (BMS-986393 / CC-95266) \u2013 ASH Publications","text":"<ul> <li>Status: Early-stage clinical trials</li> <li>Antigen Target: GPRC5D</li> <li>Indication: Multiple Myeloma (Relapsed/Refractory)</li> <li>Clinical Trial: BMS-986393/CC-95266</li> <li>References:<ul> <li>ASH Publications</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#5-kyv-101-kyverna-therapeutics-company-website","title":"5. KYV-101 (Kyverna Therapeutics) \u2013 Company Website","text":"<ul> <li>Status: Early clinical trials</li> <li>Antigen Target: CD19</li> <li>Indication: KYV-101 was developed by Kyverna Therapeutics for the treatment of B cell-driven autoimmune diseases, such as lupus nephritis, systemic sclerosis, myasthenia gravis, and stiff-person syndrome</li> <li>CAR Construct Structure:<ul> <li>Construct C19 binding domain (Hu19)</li> <li>CD8a hinge and transmembrane domain</li> <li>CD28 co-stimulatory domain</li> <li>CD3\u03b6 activation domain</li> </ul> </li> </ul>"},{"location":"Home/Resources/CAR-constructs/#6-gc012f-gracell-biotechnologies-gracell-pipeline","title":"6. GC012F (Gracell Biotechnologies) \u2013 Gracell Pipeline","text":"<ul> <li>Status: Phase 1/2</li> <li>Indication: Multiple Myeloma</li> <li>Mechanism: A dual-target CAR T cell therapy currently in the transition between phases 1 and 2, as safety data support further trials.</li> </ul>"},{"location":"Home/Resources/CAR-constructs/#7-p-bcma-101-poseida-therapeutics-company-website","title":"7. P-BCMA-101 (Poseida Therapeutics) \u2013 Company Website","text":"<ul> <li>Status: Phase 2</li> <li>Antigen Target: BCMA</li> <li>Indication: Multiple Myeloma</li> <li>Mechanism: P-BCMA-101 is a novel chimeric antigen receptor (CAR)-T cell therapeutic targeting BCMA, which is highly expressed on multiple myeloma cells. It is designed to increase efficacy while minimizing toxicity through reduced immunogenicity, lack of tonic signaling, a safety switch, and a product composed predominantly of early memory T cells that are effectively all CAR-positive.</li> </ul>"},{"location":"Home/Resources/CAR-constructs/#8-ata2271-atara-biotherapeutics-company-pipeline","title":"8. ATA2271 (Atara Biotherapeutics) \u2013 Company Pipeline","text":"<ul> <li>Status: Phase 1</li> <li>Antigen Target: Mesothelin</li> <li>Indication: Solid Tumors</li> <li>Mechanism: ATA2271 is a mesothelin-targeting CAR T cell therapy for solid tumors, currently in phase 1 trials to establish safety and initial efficacy.</li> </ul>"},{"location":"Home/Resources/CAR-constructs/#allogenic-car-t-cells","title":"Allogenic CAR T cells","text":""},{"location":"Home/Resources/CAR-constructs/#1-allo-501-allogene-therapeutics-company-pipeline","title":"1. ALLO-501 (Allogene Therapeutics) \u2013 Company Pipeline","text":"<ul> <li>Status: Phase 2</li> <li>Indication: Non-Hodgkin Lymphoma</li> <li>Mechanism: An allogeneic CAR T cell therapy aiming to provide a safer and more accessible off-the-shelf option.</li> </ul>"},{"location":"Home/Resources/CAR-constructs/#2-ft819-fate-therapeutics-company-pipeline","title":"2.  FT819 (Fate Therapeutics) \u2013 Company Pipeline","text":"<ul> <li>Status: Phase 1</li> <li>Indication: Relapsed/Refractory B-Cell Malignancies</li> <li>Antigen Target: CD19</li> <li>Mechanism: Off-the-shelf iPSC-derived CAR T therapy. </li> </ul>"},{"location":"Home/Resources/Methods/","title":"Sequence Retrieval and Annotation Process","text":""},{"location":"Home/Resources/Methods/#sequences-fasta","title":"Sequences (fasta)","text":"<p>Sequence information on DNA and protein sequences of CAR T cell products (CAR constructs and vectors systems) has been collected from literature and patents (see Sources of Sequences). All DNA sequences were extracted from those sources using a Jupyter Notebook script (<code>translate_sequences.ipynb</code>). This process leverages a custom template matching approach implemented in the Python script <code>template_matching.py</code>. The method applies structural similarity (SSIM) to detect nucleotide templates (A, C, G, T) from .png images and accurately reconstruct them into a nucleotide sequence string. </p> <p>All DNA sequences were translated into protein sequences using the Expasy Translate Tool and saved as <code>*_protein_translated.fasta</code> files. For some CAR products, protein sequences were directly provided in the corresponding patents\u2014these original sequences were included whenever available.</p> <p>Discrepancies Between Nucleotide and Protein Sequences</p> <p>In several cases, we observed discrepancies between the nucleotide sequences and the corresponding protein sequences provided in the patents. When translated with Expasy, the nucleotide sequences did not always align with the listed protein sequences.</p> <p>For example, in WO2022116086A1, the original protein sequence contains an extra <code>'TS'</code> that is not supported by the nucleotide sequence\u2014suggesting inconsistencies in the source data.</p> <p>Therefore, both translated and original protein sequences are provided to ensure transparency and traceability.</p> <p>The annotation process of CAR constructs and vector systems is desribed below in the Annotations section.To ensure correct sequences, CAR constructs were manually re-check subsequently.</p>"},{"location":"Home/Resources/Methods/#sources-of-sequences","title":"Sources of Sequences","text":"CAR T Cell Product Original Source CAR Sequence (DNA) CAR Sequence (Protein) Vector Sequence Ciltacel Patent WO2022116086A1 SEQ ID NO. 9\u201316 SEQ ID NO:17; translated from DNA Not available Ciltacel Patent US20230270786A1 SEQ ID NO. 9\u201316 Seq ID NO 17; translated from DNA Not available Ciltacel (Oezdemirli et al.) Supplementary Figure S1, Ozdemirli et al. Highlighted DNA sequence of CAR construct Translated from DNA Vector sequence from 5'UTR to 3'UTR Ciltacel (Braun et al.) Braun et al. Reverse engineered DNA sequence provided at GitHub Translated from reverse engineered DNA Full reverse engineered vector sequence provided at GitHub Idecel Patent WO2021091978A1 Sequence No. 10 Sequence No. 9; translated from DNA Sequence No. 36 Tisacel Patent US 9,499,629 B2 SEQ ID NO: 8 SEQ ID NO: 12; translated from DNA SEQ ID NO: 1 Axicel DrugBank: Roberts et al. \u2192 Kochenderfer et al. \u2192 GenBank HM852952 GenBank ID HM852952 Translated from DNA Not available Hu19-CD28Z Brudno et al. \u2192 NCBI  MN698642.1 NCBI entry MN698642.1 Translated from DNA Not available"},{"location":"Home/Resources/Methods/#annotations-gtf","title":"Annotations (gtf)","text":""},{"location":"Home/Resources/Methods/#car-constructs","title":"CAR constructs","text":"<p>For annotation, known nucleotide sequences of CAR construct parts were retrieved from NCBI, following this schematic. </p> <p>Domains retrieved: - CD28, CD3\u03b6, 41BB, CD8, CSF2RA - Accession numbers: <code>\"NM_001378516.1\", \"NM_171827.4\", \"NM_001561.6\", \"NM_001410981.1\", \"NR_027760.3\"</code></p> <p>Fetched Sequences: <code>fetched_sequences.fasta</code></p> <p>Each CAR construct was aligned against the retrieved domain sequences using BLAST. When applicable, annotations were compared with the original source data (<code>annotation_from_nucleotide_seq.json</code>) and compiled into a <code>.gtf</code> file.</p> <p>All CAR sequences were additionally translated into protein sequence, and screened for protein domains with SMART. Based on protein position of predicted domains, nucleotide sequences were extracted <code>find_nucleotide_from_protein.py</code> and also added to the Annotation file <code>annotation_from_nucleotide_seq.json</code>.</p> <ul> <li>Full Annotation Script: <code>get_annotations.py</code></li> <li>Annotation File: <code>annotation_from_nucleotide_seq.json</code></li> </ul>"},{"location":"Home/Resources/Methods/#vector-systems","title":"Vector systems","text":"<p>For vector systems annotation was done using the Addgene online tool. Features within gtf \ufb01le were de\ufb01ned by using \u201dFeature Type\u201d according to Addgene Feature Options labels. Only the predicted ORF for the CAR construct was added. All annotation information are provided in GTF format.</p>"},{"location":"Home/Resources/Vector-systems/","title":"Vector Systems","text":"<p>This page summarizes information about vector systems used to transduce the therapeutic chimeric antigen receptor (CAR) into T lymphocytes. A precise understanding of the exact vector sequence is essential to evaluate how the CAR transgene is delivered, regulated, and maintained within the host genome. This includes identifying integration sites, assessing the role of promoters and regulatory elements in driving stable CAR expression, and optimizing vector design. Promoters and regulatory elements directly influence CAR expression levels, which in turn affect T cell activation, persistence, and potential toxicity\u2014key factors in ensuring safety, maximizing therapeutic efficacy, and refining vector functionality (Ho et. al 2021, Hosseini et al 2020).</p> <p>The most commonly used vectors include lentiviral and gamma-retroviral vectors, both of which integrate the CAR gene into the host genome for long-term expression. Emerging non-viral methods such as the Sleeping Beauty transposon system and mRNA electroporation are also being explored, offering potential alternatives for transient expression or cost-effective CAR T-cell production. </p>"},{"location":"Home/Resources/Vector-systems/#link-to-resource","title":"Link to Resource","text":"<ul> <li> <p>CAR vectors</p> <p>Get nuceleotide sequences <code>.fasta</code> and annotation information <code>.gtf</code></p> <p> Nucleotide sequence</p> <p> Annotations</p> </li> </ul>"},{"location":"Home/Resources/Vector-systems/#vector-systems-for-fda-approved-car-t-therapies","title":"Vector Systems for FDA-Approved CAR T Therapies","text":""},{"location":"Home/Resources/Vector-systems/#1-tisagenlecleucel-kymriah","title":"1. Tisagenlecleucel (Kymriah)","text":"<ul> <li>Vector System: Lentiviral Vector, 3rd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#2-lisocabtagene-maraleucel-breyanzi","title":"2. Lisocabtagene Maraleucel (Breyanzi)","text":"<ul> <li>Vector System: Lentiviral Vector, 3rd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#3-idecabtagene-vicleucel-abecma","title":"3. Idecabtagene Vicleucel (Abecma)","text":"<ul> <li>Vector System: Lentiviral Vector, 3rd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#4-ciltacabtagene-autoleucel-carvykti","title":"4. Ciltacabtagene Autoleucel (Carvykti)","text":"<ul> <li>Vector System: Lentiviral Vector, 3rd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#5-axicabtagene-ciloleucel-yescarta","title":"5. Axicabtagene Ciloleucel (Yescarta)","text":"<ul> <li>Vector System: Retroviral Vector (Gamma Retrovirus), 2nd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#6-brexucabtagene-autoleucel-tecartus","title":"6. Brexucabtagene Autoleucel (Tecartus)","text":"<ul> <li>Vector System: Retroviral Vector (Gamma Retrovirus), 2nd generation</li> </ul>"},{"location":"Home/Resources/Vector-systems/#6-obecabtagene-autoleucel-aucatzyl-autolus-inc","title":"6. Obecabtagene Autoleucel (Aucatzyl; Autolus Inc),","text":"<ul> <li>Vector System: Lentiviral Vector</li> </ul>"},{"location":"Home/Technologies/","title":"Technologies for adoptive immunotherapies","text":""},{"location":"Home/Technologies/#multi-omics-single-cell-sequencing","title":"Multi-omics single-cell sequencing","text":"<p>Multi-omics single-cell sequencing from 10x Genomics integrates multiple layers of biological data\u2014such as transcriptomics (RNA), immune repertoire profiling, and surface protein expression\u2014at the resolution of individual cells. In adoptive immunotherapies like CAR T cell therapy, this technology enables researchers to simultaneously analyze how these diverse modalities interact, providing a comprehensive view of CAR T cell biology, immune repertoire diversity, and the tumor microenvironment.</p> <ul> <li> <p>5\u2019 and 3\u2019 single-cell RNA sequencing: These methods capture either the 5\u2019 or 3\u2019 ends of mRNA transcripts, revealing gene expression profiles with high resolution. In CAR T cell therapy, this can uncover activation states, cytokine production, and tumor-antigen responses, as well as heterogeneity within cell populations.</p> </li> <li> <p>Immune profiling: 10x Genomics' Single-Cell Immune Profiling platform enables simultaneous analysis of gene expression and T-cell receptor (TCR) or B-cell receptor (BCR) sequences, providing insights into immune cell clonality, diversity, and receptor specificity. This allows precise tracking of CAR T cells, mapping out clonal dynamics, exhaustion states, and functional markers critical for therapeutic success.    In addition, the platform supports surface protein expression profiling via feature barcoding. These surface markers complement transcriptomic data by providing information on post-transcriptional regulation, activation states, and cell\u2013cell interaction potential\u2014enabling more accurate and functionally relevant cell-type classification in complex immune environments.</p> </li> </ul>"},{"location":"Home/Technologies/#spatial-sequencing","title":"Spatial sequencing","text":"Image from 10xGenomics <p>Spatial sequencing technologies, such as Visium and Visium HD by 10x Genomics, map gene expression profiles to their specific locations within tissue samples. By preserving spatial context, these technologies provide critical insights into how immune cells interact with tumor cells, offering a more comprehensive understanding of therapy efficacy. This information can help refine CAR T cell therapies by identifying factors that influence their success or resistance within the tumor microenvironment. </p>"},{"location":"Home/Technologies/#custom-probes-for-car-detection","title":"Custom Probes for CAR detection","text":"Image from Fig 2J at Braun et.al <p>We have developed custom probes for robust detection of Carvykti in Visium (HD) spatial transcriptomics. The probe design was based on the specifications of the technical note \u201cCG000621\u201d from 10x Genomics. The positioning of the probes within the chimeric CAR construct was chosen to span the boundaries of the cloned domains, resulting in unique sequences that were inserted into the Visium Probe Set v1 for data analysis.</p> <p>For more information please contact: Blumert, Conny conny.blumert@izi.fraunhofer.de</p>"}]}